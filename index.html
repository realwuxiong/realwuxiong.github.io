<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>吴雄的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一个爱好写代码的程序员。。">
<meta property="og:type" content="website">
<meta property="og:title" content="吴雄的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="吴雄的博客">
<meta property="og:description" content="一个爱好写代码的程序员。。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="吴雄的博客">
<meta name="twitter:description" content="一个爱好写代码的程序员。。">
  
    <link rel="alternate" href="/atom.xml" title="吴雄的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">吴雄的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/07/16/hello-world/" class="article-date">
  <time datetime="2019-07-16T12:28:22.740Z" itemprop="datePublished">2019-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/07/16/hello-world/">Hello World1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2019/07/16/hello-world/" data-id="cjy5tjmrh0004lcrtysfpmdai" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Django教程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/07/10/Django教程/" class="article-date">
  <time datetime="2019-07-10T03:43:34.000Z" itemprop="datePublished">2019-07-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Django/">Django</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/07/10/Django教程/">mysql数据库创建流水号</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Django文档"><a href="#Django文档" class="headerlink" title="Django文档"></a>Django文档</h1><h2 id="时间2019-7-10"><a href="#时间2019-7-10" class="headerlink" title="时间2019-7-10"></a>时间2019-7-10</h2><h3 id="Django版本2-2-3-python版本3-6-mysql版本5-7（低版本mysql可能会出现莫名其妙的错误）"><a href="#Django版本2-2-3-python版本3-6-mysql版本5-7（低版本mysql可能会出现莫名其妙的错误）" class="headerlink" title="Django版本2.2.3 python版本3.6 mysql版本5.7（低版本mysql可能会出现莫名其妙的错误）"></a>Django版本2.2.3 python版本3.6 mysql版本5.7（低版本mysql可能会出现莫名其妙的错误）</h3><hr>
<ol>
<li>创建项目</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject mysite</span><br></pre></td></tr></table></figure>

<p>其中mysite是自己的项目名称（注意不要使用Django或者test为项目名称，这会与Django发生冲突）。</p>
<p><img src="https://moustache.oss-cn-beijing.aliyuncs.com/home.png" alt="image"></p>
<h3 id="数据库的设计"><a href="#数据库的设计" class="headerlink" title="数据库的设计"></a>数据库的设计</h3><hr>
<p>首页</p>
<p>1轮播图表 （添加的时间 按照添加时间优先显示）</p>
<p>2博客文章 （文章之中有标签 分类 阅读量 发布时间 评论 和点赞数 点击量 推荐指数 置顶功能 作者 最近修改时间 markdown的文件名）</p>
<p>3评论表</p>
<p>4博主简介表</p>
<p>5其他功能</p>
<hr>
<h3 id="创建app"><a href="#创建app" class="headerlink" title="创建app"></a>创建app</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. python manage.py startapp home </span><br><span class="line">2. python manage.py startapp arhive</span><br><span class="line">等等</span><br></pre></td></tr></table></figure>

<p>以home这个app为例创建model.py文件</p>
<h4 id="7月11日"><a href="#7月11日" class="headerlink" title="7月11日"></a>7月11日</h4><p>基本完成数据库和显示的问题</p>
<h4 id="7月12日"><a href="#7月12日" class="headerlink" title="7月12日"></a>7月12日</h4><p>网页显示markdown</p>
<ol>
<li>安装markdown插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install markdown</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>然后需要在models.py中对 阿里云对象存储的md文件进行解析</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">from django.db import models</span><br><span class="line">from django.utils.html import mark_safe  # 将字符串标记为安全进行输出</span><br><span class="line">from markdown import markdown  # 导入 markdown 插件,将markdown格式转化为html</span><br><span class="line">import codecs</span><br><span class="line">from urllib import request</span><br><span class="line"></span><br><span class="line"> def markdownTohtml(self):</span><br><span class="line">        # 读取 markdown 文本</span><br><span class="line">        # input_file = codecs.open(self.markdown_url, mode=&quot;r&quot;, encoding=&quot;utf-8&quot;)</span><br><span class="line">        text = request.urlopen(self.markdown_url).read().decode(&apos;utf8&apos;)  # 1 读取数据串</span><br><span class="line">        # text = input_file.read()</span><br><span class="line">        return mark_safe(markdown(text,extensions=[</span><br><span class="line">                                      &apos;markdown.extensions.extra&apos;,</span><br><span class="line">                                      &apos;markdown.extensions.codehilite&apos;,</span><br><span class="line">                                      &apos;markdown.extensions.toc&apos;,</span><br><span class="line">                                  ]))</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>html页面显示</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &#123;&#123; blogInfo.markdownTohtml&#125;&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>python+markdown+pygments代码块高亮<br>安装<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pygments</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>运行如下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pygmentize -S default -f html -a .codehilite &gt; code.css</span><br></pre></td></tr></table></figure>

<p>在文件夹下会发现生成了code.css文件，将这个css文件加入到你的static文件夹下csss里。在需要高亮的html文件里面导入刚刚生成的css文件，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;../static/css/code.css&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>也可去Github项目官方网址下载任意一css文件,记得文件内样式名开头都为 .codehilite, 如果不是修改过来。<a href="https://github.com/richleland/pygments-css" target="_blank" rel="noopener">pygments-css</a></p>
<p>注意代码中需要加扩展（markDown转化为HTML的代码中加入)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mark_safe(markdown(text,extensions=[</span><br><span class="line">                                      &apos;markdown.extensions.extra&apos;,</span><br><span class="line">                                      &apos;markdown.extensions.codehilite&apos;,</span><br><span class="line">                                      &apos;markdown.extensions.toc&apos;,</span><br><span class="line">                                  ]))</span><br></pre></td></tr></table></figure>

<p>其实你<a href="https://github.com/richleland/pygments-css" target="_blank" rel="noopener">进入</a>可以看到有很多的样式文件<br>这样可以进一步理解代码：pygmentize -S default -f html -a .codehilite &gt; code.css<br>其实这个就是选择的default的那个文件 比如我选择autumn.css 那么代码就是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pygmentize -S autumn -f html -a .codehilite &gt; code.css</span><br></pre></td></tr></table></figure>

<h3 id="2019年7月13日-完成博客页面样式调试"><a href="#2019年7月13日-完成博客页面样式调试" class="headerlink" title="2019年7月13日 完成博客页面样式调试"></a>2019年7月13日 完成博客页面样式调试</h3><ol>
<li>知道了li ul标签 inline inline-block block的区别</li>
<li>css的选择器等等</li>
<li>发布项目到阿里云服务器</li>
</ol>
<h3 id="2019年7月15日发布Django项目到阿里云服务器"><a href="#2019年7月15日发布Django项目到阿里云服务器" class="headerlink" title="2019年7月15日发布Django项目到阿里云服务器"></a>2019年7月15日发布Django项目到阿里云服务器</h3><ol>
<li>我用的宝塔面板安装了Nginx </li>
<li>安装uwsgi<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uwsgi</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>安装 supervisor, 一个专门用来管理进程的工具，我们用它来管理 uwsgi 进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install supervisor</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2019/07/10/Django教程/" data-id="cjy5tjmra0001lcrthm7oduq9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/">Django</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-qq聊天机器人" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/08/01/qq聊天机器人/" class="article-date">
  <time datetime="2018-08-01T03:43:34.000Z" itemprop="datePublished">2018-08-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/小程序/">小程序</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2018/08/01/qq聊天机器人/">qq聊天机器人</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="qq聊天机器人"><a href="#qq聊天机器人" class="headerlink" title="qq聊天机器人"></a>qq聊天机器人</h1><p>第一步去申请一个图灵机器人。<br><a href="http://www.tuling123.com" target="_blank" rel="noopener">http://www.tuling123.com</a></p>
<ul>
<li>我用的python的版本是是python3.6</li>
<li>两个代码放在同一个文件夹里。</li>
<li>需要导包啥的，可以直接在pycharm里面下载，我就不演示了，这里我直接贴上我的代码</li>
<li>每次运行的时候需要手机扫码登录，可以把代码运行在远程的服务器，就可以实现一天到晚QQ机器人都开着</li>
</ul>
<p>tulingapi.py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import json, urllib, urllib.parse, urllib.request</span><br><span class="line">header = &#123;</span><br><span class="line">    &quot;User-Agent&quot;: &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.59 Safari/537.36&apos;,</span><br><span class="line">    &quot;Content-Type&quot;: &apos;text/html; charset=utf-8&apos;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main(text=&apos;哈哈哈&apos;,userid=&quot;123456&quot;):</span><br><span class="line">    # 配置您申请的APPKey</span><br><span class="line">    appkey = &quot;e75a3b457d4b48eabea084b1b1006a2a&quot;</span><br><span class="line"></span><br><span class="line">    # 1.问答</span><br><span class="line">    return request1(appkey, &quot;GET&quot;, text, userid)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 问答</span><br><span class="line">def request1(appkey, m=&quot;GET&quot;, text=&quot;哈哈&quot;, userid=&quot;123456&quot;):</span><br><span class="line">    url = &quot;http://www.tuling123.com/openapi/api&quot;</span><br><span class="line">    params = &#123;</span><br><span class="line">        &quot;key&quot;: appkey,  # 您申请到的本接口专用的APPKEY</span><br><span class="line">        &quot;info&quot;: text,  # 要发送给机器人的内容，不要超过30个字符</span><br><span class="line">        &quot;userid&quot;: userid   #自定义唯一 userid（1-32位，字母与数字组成）,可以识别上下文</span><br><span class="line">    &#125;</span><br><span class="line">    params = urllib.parse.urlencode(params)</span><br><span class="line">    if m == &quot;GET&quot;:</span><br><span class="line">        req = urllib.request.Request(&quot;%s?%s&quot; % (url, params), data=None, headers=header)</span><br><span class="line">        f = urllib.request.urlopen(req)</span><br><span class="line">    else:</span><br><span class="line">        req = urllib.request.Request(url + params, data=None, headers=header)</span><br><span class="line">        f = urllib.request.urlopen(req)</span><br><span class="line"></span><br><span class="line">    content = f.read().decode()</span><br><span class="line">    res = json.loads(content)</span><br><span class="line">    print(&quot;我的req是:  &quot;,end=&quot;  &quot;)</span><br><span class="line">    print(appkey, text)</span><br><span class="line">    print(&quot;我的返回结果&quot;, end=&quot;  :&quot;)</span><br><span class="line">    print(res)</span><br><span class="line">    if res:</span><br><span class="line">        error_code = res[&quot;code&quot;]</span><br><span class="line">        if error_code != 40001 and error_code != 40002:</span><br><span class="line">            # 成功请求</span><br><span class="line">            response = res[&apos;text&apos;]</span><br><span class="line">            if &apos;url&apos;in res:</span><br><span class="line">                response += &quot;\n&quot;+res[&apos;url&apos;]</span><br><span class="line">            if &apos;list&apos; in res:</span><br><span class="line">                for li in res[&apos;list&apos;]:</span><br><span class="line">                    if &quot;article&quot; in li:</span><br><span class="line">                        response += &quot;\n&quot;+li[&apos;article&apos;]</span><br><span class="line">                    if &quot;source&quot; in li:</span><br><span class="line">                        response += &quot;\n&quot;+li[&apos;source&apos;]</span><br><span class="line">                    if &quot;info&quot; in li:</span><br><span class="line">                        response += &quot;\n&quot; + li[&apos;info&apos;]</span><br><span class="line">                    if &quot;detailurl&quot; in li:</span><br><span class="line">                        response += &quot;\n&quot;+li[&apos;detailurl&apos;]</span><br><span class="line">                pass</span><br><span class="line">            return response</span><br><span class="line">        else:</span><br><span class="line">            err = json.dumps(res)</span><br><span class="line">            with open(&apos;log.txt&apos;, &apos;a+&apos;) as oo:</span><br><span class="line">                oo.write(err + &quot;\n\r&quot; + text)</span><br><span class="line">                # print (&quot;%s:%s&quot; % (res[&quot;error_code&quot;],res[&quot;reason&quot;]))</span><br><span class="line">            return &quot;我好像出错了$%$*%*&amp;^#$@#%$@#%&quot;</span><br><span class="line">    else:</span><br><span class="line">        return &quot;我的接口好像出错了，哈哈哈，创造我的人技术不行啊&quot;</span><br></pre></td></tr></table></figure>

<p>第二个代码是<br>qq.py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">from qqbot import QQBotSlot as qqbotslot,RunBot</span><br><span class="line">import tulingapi</span><br><span class="line"></span><br><span class="line">#使用的python版本是python3.6</span><br><span class="line"># 初始化图灵机器人</span><br><span class="line">friend = []</span><br><span class="line"></span><br><span class="line">@qqbotslot</span><br><span class="line">def onQQMessage(bot, contact, member, content):</span><br><span class="line">    if contact.ctype == &apos;group&apos;:</span><br><span class="line">        pass</span><br><span class="line">    elif contact.ctype == &apos;buddy&apos; and &quot;--stop&quot; == content:</span><br><span class="line">        if contact.mark in friend:</span><br><span class="line">            friend.remove(contact.mark)</span><br><span class="line">            bot.SendTo(contact, &apos;关闭机器人&apos;)</span><br><span class="line">    elif contact.ctype == &apos;buddy&apos; and &quot;--start&quot; == content and &apos;哈哈，哈哈哈，哈哈哈哈哈&apos; != contact.mark:</span><br><span class="line">        if contact.mark not in friend:</span><br><span class="line">            friend.append(contact.mark)</span><br><span class="line">            bot.SendTo(contact, &apos;欢迎使用机器人&apos;)</span><br><span class="line">    elif contact.ctype == &apos;buddy&apos; and contact.mark in friend:                        #对指定的人发自动回复</span><br><span class="line">        daan = tulingapi.main(content)</span><br><span class="line">        bot.SendTo(contact, &apos;🍅&apos;+daan)</span><br><span class="line">        print(contact.name, contact.ctype, contact.nick, contact.uin, contact.mark)</span><br><span class="line">    elif &apos;mememeda&apos; == content:</span><br><span class="line">        print(&quot;关闭机器人&quot;)</span><br><span class="line">        bot.Stop()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RunBot()</span><br></pre></td></tr></table></figure>

<p>最后的效果是当QQ好友给你发一个–start的时候开启机器人然后就可以自动回复了（多个好友可以同时自动回复），当对方给你回一个–stop的时候就停止机器人聊天，当你对任何人或者任何人给你发送mememeda的时候把这个程序给彻底关掉。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2018/08/01/qq聊天机器人/" data-id="cjy5tjmrk0006lcrtkobr61oa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/QQ/">QQ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器人/">机器人</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mysql创建流水号" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/07/02/mysql创建流水号/" class="article-date">
  <time datetime="2018-07-02T03:43:34.000Z" itemprop="datePublished">2018-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Mysql/">Mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2018/07/02/mysql创建流水号/">mysql数据库创建流水号</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="mysql数据库创建流水号"><a href="#mysql数据库创建流水号" class="headerlink" title="mysql数据库创建流水号"></a>mysql数据库创建流水号</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TRIGGER saledetail_id BEFORE INSERT ON saledetail</span><br><span class="line">FOR EACH ROW BEGIN</span><br><span class="line">declare n int;</span><br><span class="line">select IFNULL(max(right(ItemID,4)),0) into n from saledetail where mid(ItemID,1,8)=DATE_FORMAT(CURDATE(),&apos;%Y%m%d&apos;);</span><br><span class="line">set NEW.ItemID=concat(DATE_FORMAT(CURDATE(),&apos;%Y%m%d&apos;),right(10001+n,4));</span><br><span class="line">END;</span><br></pre></td></tr></table></figure>

<p>//注意在插入的时候主键要设置一个默认值才能插入进去，这里我设置的是空字符串””</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2018/07/02/mysql创建流水号/" data-id="cjy5tjmrj0005lcrtzf3de180" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mysqlini文件详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/07/02/mysqlini文件详解/" class="article-date">
  <time datetime="2018-07-02T03:43:34.000Z" itemprop="datePublished">2018-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Mysql/">Mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2018/07/02/mysqlini文件详解/">mysql数据库my.ini配置文件中文详解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="mysql数据库my-ini配置文件中文详解"><a href="#mysql数据库my-ini配置文件中文详解" class="headerlink" title="mysql数据库my.ini配置文件中文详解"></a>mysql数据库my.ini配置文件中文详解</h1><p>mysqld程序–目录和文件</p>
<p>basedir = path 使用给定目录作为根目录(安装目录)。</p>
<p>character-sets-dir = path 给出存放着字符集的目录。</p>
<p>datadir = path 从给定目录读取数据库文件。</p>
<p>pid-file = filename 为mysqld程序指定一个存放进程ID的文件(仅适用于UNIX/Linux系统); Init-V脚本需要使用这个文件里的进程ID结束mysqld进程。</p>
<p>socket = filename 为MySQL客户程序与服务器之间的本地通信指定一个套接字文件(仅适用于UNIX/Linux系统; 默认设置一般是/var/lib/mysql/mysql.sock文件)。在Windows环境下，如果MySQL客户与服务器是通过命名管道进行通信 的，–sock选项给出的将是该命名管道的名字(默认设置是MySQL)。</p>
<p>lower_case_table_name = 1/0 新目录和数据表的名字是否只允许使用小写字母; 这个选项在Windows环境下的默认设置是1(只允许使用小写字母)。</p>
<p>mysqld程序–语言设置</p>
<p>character-sets-server = name 新数据库或数据表的默认字符集。为了与MySQL的早期版本保持兼容，这个字符集也可以用–default-character-set选项给出; 但这个选项已经显得有点过时了。</p>
<p>collation-server = name 新数据库或数据表的默认排序方式。</p>
<p>lanuage = name 用指定的语言显示出错信息。</p>
<p>mysqld程序–通信、网络、信息安全</p>
<p>enable-named-pipes 允许Windows 2000/XP环境下的客户和服务器使用命名管道(named pipe)进行通信。这个命名管道的默认名字是MySQL，但可以用–socket选项来改变。</p>
<p>local-infile [=0] 允许/禁止使用LOAD DATA LOCAL语句来处理本地文件。</p>
<p>myisam-recover [=opt1, opt2, …] 在启动时自动修复所有受损的MyISAM数据表。这个选项的可取值有4种:DEFAULT、BACKUP、QUICK和FORCE; 它们与myisamchk程序的同名选项作用相同。</p>
<p>old-passwords 使用MySQL 3.23和4.0版本中的老算法来加密mysql数据库里的密码(默认使用MySQL 4.1版本开始引入的新加密算法)。</p>
<p>port = n 为MySQL程序指定一个TCP/IP通信端口(通常是3306端口)。</p>
<p>safe-user-create 只有在mysql.user数据库表上拥有INSERT权限的用户才能使用GRANT命令; 这是一种双保险机制(此用户还必须具备GRANT权限才能执行GRANT命令)。</p>
<p>shared-memory 允许使用内存(shared memory)进行通信(仅适用于Windows)。</p>
<p>shared-memory-base-name = name 给共享内存块起一个名字(默认的名字是MySQL)。</p>
<p>skip-grant-tables 不使用mysql数据库里的信息来进行访问控制(警告:这将允许用户任何用户去修改任何数据库)。</p>
<p>skip-host-cache 不使用高速缓存区来存放主机名和IP地址的对应关系。</p>
<p>skip-name-resovle 不把IP地址解析为主机名; 与访问控制(mysql.user数据表)有关的检查全部通过IP地址行进。</p>
<p>skip-networking 只允许通过一个套接字文件(Unix/Linux系统)或通过命名管道(Windows系统)进行本地连接，不允许ICP/IP连接; 这提高了安全性，但阻断了来自网络的外部连接和所有的Java客户程序(Java客户即使在本地连接里也使用TCP/IP)。</p>
<p>user = name mysqld程序在启动后将在给定UNIX/Linux账户下执行; mysqld必须从root账户启动才能在启动后切换到另一个账户下执行; mysqld_safe脚本将默认使用–user=mysql选项来启动mysqld程序。</p>
<p>mysqld程序–内存管理、优化、查询缓存区</p>
<p>引用</p>
<p>bulk_insert_buffer_size = n 为一次插入多条新记录的INSERT命令分配的缓存区长度(默认设置是8M)。</p>
<p>key_buffer_size = n 用来存放索引区块的RMA值(默认设置是8M)。</p>
<p>join_buffer_size = n 在参加JOIN操作的数据列没有索引时为JOIN操作分配的缓存区长度(默认设置是128K)。</p>
<p>max_heap_table_size = n HEAP数据表的最大长度(默认设置是16M); 超过这个长度的HEAP数据表将被存入一个临时文件而不是驻留在内存里。</p>
<p>max_connections = n MySQL服务器同时处理的数据库连接的最大数量(默认设置是100)。</p>
<p>query_cache_limit = n 允许临时存放在查询缓存区里的查询结果的最大长度(默认设置是1M)。</p>
<p>query_cache_size = n 查询缓存区的最大长度(默认设置是0，不开辟查询缓存区)。</p>
<p>query_cache_type = 0/1/2 查询缓存区的工作模式:0, 禁用查询缓存区; 1，启用查询缓存区(默认设置); 2，”按需分配”模式，只响应SELECT SQL_CACHE命令。</p>
<p>read_buffer_size = n 为从数据表顺序读取数据的读操作保留的缓存区的长度(默认设置是128KB); 这个选项的设置值在必要时可以用SQL命令SET SESSION read_buffer_size = n命令加以改变。</p>
<p>read_rnd_buffer_size = n 类似于read_buffer_size选项，但针对的是按某种特定顺序(比如使用了ORDER BY子句的查询)输出的查询结果(默认设置是256K)。</p>
<p>sore_buffer = n 为排序操作分配的缓存区的长度(默认设置是2M); 如果这个缓存区太小，则必须创建一个临时文件来进行排序。</p>
<p>table_cache = n 同时打开的数据表的数量(默认设置是64)。</p>
<p>tmp_table_size = n 临时HEAP数据表的最大长度(默认设置是32M); 超过这个长度的临时数据表将被转换为MyISAM数据表并存入一个临时文件。</p>
<p>log [= file] 把所有的连接以及所有的SQL命令记入日志(通用查询日志); 如果没有给出file参数，MySQL将在数据库目录里创建一个hostname.log文件作为这种日志文件(hostname是服务器的主机名)。</p>
<p>log-slow-queries [= file] 把执行用时超过long_query_time变量值的查询命令记入日志(慢查询日志); 如果没有给出file参数，MySQL将在数据库目录里创建一个hostname-slow.log文件作为这种日志文件(hostname是服务器主机 名)。</p>
<p>long_query_time = n 慢查询的执行用时上限(默认设置是10s)。</p>
<p>long_queries_not_using_indexs 把慢查询以及执行时没有使用索引的查询命令全都记入日志(其余同–log-slow-queries选项)。</p>
<p>log-bin [= filename] 把对数据进行修改的所有SQL命令(也就是INSERT、UPDATE和DELETE命令)以二进制格式记入日志(二进制变更日志，binary update log)。这种日志的文件名是filename.n或默认的hostname.n，其中n是一个6位数字的整数(日志文件按顺序编号)。</p>
<p>log-bin-index = filename 二进制日志功能的索引文件名。在默认情况下，这个索引文件与二进制日志文件的名字相同，但后缀名是.index而不是.nnnnnn。</p>
<p>max_binlog_size = n 二进制日志文件的最大长度(默认设置是1GB)。在前一个二进制日志文件里的信息量超过这个最大长度之前，MySQL服务器会自动提供一个新的二进制日志文件接续上。</p>
<p>binlog-do-db = dbname 只把给定数据库里的变化情况记入二进制日志文件，其他数据库里的变化情况不记载。如果需要记载多个数据库里的变化情况，就必须在配置文件使用多个本选项来设置，每个数据库一行。</p>
<p>binlog-ignore-db = dbname 不把给定数据库里的变化情况记入二进制日志文件。</p>
<p>sync_binlog = n 每经过n次日志写操作就把日志文件写入硬盘一次(对日志信息进行一次同步)。n=1是最安全的做法，但效率最低。默认设置是n=0，意思是由操作系统来负责二进制日志文件的同步工作。</p>
<p>log-update [= file] 记载出错情况的日志文件名(出错日志)。这种日志功能无法禁用。如果没有给出file参数，MySQL会使用hostname.err作为种日志文件的名字。</p>
<p>mysqld程序–镜像(主控镜像服务器)</p>
<p>server-id = n 给服务器分配一个独一无二的ID编号; n的取值范围是1~2的32次方启用二进制日志功能。</p>
<p>log-bin = name 启用二进制日志功能。这种日志的文件名是filename.n或默认的hostname.n，其中的n是一个6位数字的整数(日志文件顺序编号)。</p>
<p>binlog-do/ignore-db = dbname 只把给定数据库里的变化情况记入二进制日志文件/不把给定的数据库里的变化记入二进制日志文件。</p>
<p>mysqld程序–镜像(从属镜像服务器)</p>
<p>server-id = n 给服务器分配一个唯一的ID编号</p>
<p>log-slave-updates 启用从属服务器上的日志功能，使这台计算机可以用来构成一个镜像链(A-&gt;B-&gt;C)。</p>
<p>master-host = hostname 主控服务器的主机名或IP地址。如果从属服务器上存在mater.info文件(镜像关系定义文件)，它将忽略此选项。</p>
<p>master-user = replicusername 从属服务器用来连接主控服务器的用户名。如果从属服务器上存在mater.info文件，它将忽略此选项。</p>
<p>master-password = passwd 从属服务器用来连接主控服务器的密码。如果从属服务器上存在mater.info文件，它将忽略此选项。</p>
<p>master-port = n 从属服务器用来连接主控服务器的TCP/IP端口(默认设置是3306端口)。</p>
<p>master-connect-retry = n 如果与主控服务器的连接没有成功，则等待n秒(s)后再进行管理方式(默认设置是60s)。如果从属服务器存在mater.info文件，它将忽略此选项。</p>
<p>master-ssl-xxx = xxx 对主、从服务器之间的SSL通信进行配置。</p>
<p>read-only = 0/1 0: 允许从属服务器独立地执行SQL命令(默认设置); 1: 从属服务器只能执行来自主控服务器的SQL命令。</p>
<p>read-log-purge = 0/1 1: 把处理完的SQL命令立刻从中继日志文件里删除(默认设置); 0: 不把处理完的SQL命令立刻从中继日志文件里删除。</p>
<p>replicate-do-table = dbname.tablename 与–replicate-do-table选项的含义和用法相同，但数据库和数据库表名字里允许出现通配符”%”(例如: test%.%–对名字以”test”开头的所有数据库里的所以数据库表进行镜像处理)。</p>
<p>replicate-do-db = name 只对这个数据库进行镜像处理。</p>
<p>replicate-ignore-table = dbname.tablename 不对这个数据表进行镜像处理。</p>
<p>replicate-wild-ignore-table = dbn.tablen 不对这些数据表进行镜像处理。</p>
<p>replicate-ignore-db = dbname 不对这个数据库进行镜像处理。</p>
<p>replicate-rewrite-db = db1name &gt; db2name 把主控数据库上的db1name数据库镜像处理为从属服务器上的db2name数据库。</p>
<p>report-host = hostname 从属服务器的主机名; 这项信息只与SHOW SLAVE HOSTS命令有关–主控服务器可以用这条命令生成一份从属服务器的名单。</p>
<p>slave-compressed-protocol = 1 主、从服务器使用压缩格式进行通信–如果它们都支持这么做的话。</p>
<p>slave-skip-errors = n1, n2, …或all 即使发生出错代码为n1、n2等的错误，镜像处理工作也继续进行(即不管发生什么错误，镜像处理工作也继续进行)。如果配置得当，从属服务器不应该在执行SQL命令时发生错误(在主控服务器上执行出错的SQL命令不会被发送到从属服务器上做镜像处理); 如果不使用slave-skip-errors选项，从属服务器上的镜像工作就可能因为发生错误而中断，中断后需要有人工参与才能继续进行。</p>
<p>mysqld–InnoDB–基本设置、表空间文件</p>
<p>skip-innodb 不加载InnoDB数据表驱动程序–如果用不着InnoDB数据表，可以用这个选项节省一些内存。</p>
<p>innodb-file-per-table 为每一个新数据表创建一个表空间文件而不是把数据表都集中保存在中央表空间里(后者是默认设置)。该选项始见于MySQL 4.1。</p>
<p>innodb-open-file = n InnoDB数据表驱动程序最多可以同时打开的文件数(默认设置是300)。如果使用了</p>
<p>innodb-file-per-table选项并且需要同时打开很多数据表的话，这个数字很可能需要加大。</p>
<p>innodb_data_home_dir = p InnoDB主目录，所有与InnoDB数据表有关的目录或文件路径都相对于这个路径。在默认的情况下，这个主目录就是MySQL的数据目录。</p>
<p>innodb_data_file_path = ts 用来容纳InnoDB为数据表的表空间: 可能涉及一个以上的文件; 每一个表空间文件的最大长度都必须以字节(B)、兆字节(MB)或千兆字节(GB)为单位给出; 表空间文件的名字必须以分号隔开; 最后一个表空间文件还可以带一个autoextend属性和一个最大长度(max:n)。例如，ibdata1:1G; ibdata2:1G:autoextend:max:2G的意思是: 表空间文件ibdata1的最大长度是1GB，ibdata2的最大长度也是1G，但允许它扩充到2GB。除文件名外，还可以用硬盘分区的设置名来定义表 空间，此时必须给表空间的最大初始长度值加上newraw关键字做后缀，给表空间的最大扩充长度值加上raw关键字做后缀(例如/dev/hdb1: 20Gnewraw或/dev/hdb1:20Graw); MySQL 4.0及更高版本的默认设置是ibdata1:10M:autoextend。</p>
<p>innodb_autoextend_increment = n 带有autoextend属性的表空间文件每次加大多少兆字节(默认设置是8MB)。这个属性不涉及具体的数据表文件，那些文件的增大速度相对是比较小的。</p>
<p>innodb_lock_wait_timeout = n 如果某个事务在等待n秒(s)后还没有获得所需要的资源，就使用ROLLBACK命令放弃这个事务。这项设置对于发现和处理未能被InnoDB数据表驱动 程序识别出来的死锁条件有着重要的意义。这个选项的默认设置是50s。</p>
<p>innodb_fast_shutdown 0/1 是否以最快的速度关闭InnoDB，默认设置是1，意思是不把缓存在INSERT缓存区的数据写入数据表，那些数据将在MySQL服务器下次启动时再写入(这么做没有什么风险，因为INSERT缓存区是表空间的一个组成部分，数据不会丢失)。把这个选项设置为0反面危险，因为在计算机关闭时，InnoDB 驱动程序很可能没有足够的时间完成它的数据同步工作，操作系统也许会在它完成数据同步工作之前强行结束InnoDB，而这会导致数据不完整。</p>
<p>mysqld程序–InnoDB–日志</p>
<p>引用</p>
<p>innodb_log_group_home_dir = p 用来存放InnoDB日志文件的目录路径(如ib_logfile0、ib_logfile1等)。在默认的情况下，InnoDB驱动程序将使用MySQL数据目录作为自己保存日志文件的位置。</p>
<p>innodb_log_files_in_group = n 使用多少个日志文件(默认设置是2)。InnoDB数据表驱动程序将以轮转方式依次填写这些文件; 当所有的日志文件都写满以后，之后的日志信息将写入第一个日志文件的最大长度(默认设置是5MB)。这个长度必须以MB(兆字节)或GB(千兆字节)为单 位进行设置。</p>
<p>innodb_flush_log_at_trx_commit = 0/1/2 这个选项决定着什么时候把日志信息写入日志文件以及什么时候把这些文件物理地写(术语称为”同步”)到硬盘上。设置值0的意思是每隔一秒写一次日志并进行 同步，这可以减少硬盘写操作次数，但可能造成数据丢失; 设置值1(设置设置)的意思是在每执行完一条COMMIT命令就写一次日志并进行同步，这可以防止数据丢失，但硬盘写操作可能会很频繁; 设置值2是一般折衷的办法，即每执行完一条COMMIT命令写一次日志，每隔一秒进行一次同步。</p>
<p>innodb_flush_method = x InnoDB日志文件的同步办法(仅适用于UNIX/Linux系统)。这个选项的可取值有两种: fdatasync，用fsync()函数进行同步; O_DSYNC，用O_SYNC()函数进行同步。</p>
<p>innodb_log_archive = 1 启用InnoDB驱动程序的archive(档案)日志功能，把日志信息写入ib_arch_log_n文件。启用这种日志功能在InnoDB与MySQL一起使用时没有多大意义(启用MySQL服务器的二进制日志功能就足够用了)。</p>
<p>mysqld程序–InnoDB–缓存区的设置和优化</p>
<p>引用</p>
<p>innodb_log_buffer_pool_size = n 为InnoDB数据表及其索引而保留的RAM内存量(默认设置是8MB)。这个参数对速度有着相当大的影响，如果计算机上只运行有MySQL/InnoDB数据库服务器，就应该把全部内存的80%用于这个用途。</p>
<p>innodb_log_buffer_size = n 事务日志文件写操作缓存区的最大长度(默认设置是1MB)。</p>
<p>innodb_additional_men_pool_size = n 为用于内部管理的各种数据结构分配的缓存区最大长度(默认设置是1MB)。</p>
<p>innodb_file_io_threads = n I/O操作(硬盘写操作)的最大线程个数(默认设置是4)。</p>
<p>innodb_thread_concurrency = n InnoDB驱动程序能够同时使用的最大线程个数(默认设置是8)。</p>
<p>mysqld程序–其它选项</p>
<p>bind-address = ipaddr MySQL服务器的IP地址。如果MySQL服务器所在的计算机有多个IP地址，这个选项将非常重要。</p>
<p>default-storage-engine = type 新数据表的默认数据表类型(默认设置是MyISAM)。这项设置还可以通过–default-table-type选项来设置。</p>
<p>default-timezone = name 为MySQL服务器设置一个地理时区(如果它与本地计算机的地理时区不一样)。</p>
<p>ft_min_word_len = n 全文索引的最小单词长度工。这个选项的默认设置是4，意思是在创建全文索引时不考虑那些由3个或更少的字符构建单词。</p>
<p>Max-allowed-packet = n 客户与服务器之间交换的数据包的最大长度，这个数字至少应该大于客户程序将要处理的最大BLOB块的长度。这个选项的默认设置是1MB。</p>
<p>Sql-mode = model1, mode2, … MySQL将运行在哪一种SQL模式下。这个选项的作用是让MySQL与其他的数据库系统保持最大程度的兼容。这个选项的可取值包括ansi、db2、oracle、no_zero_date、pipes_as_concat。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2018/07/02/mysqlini文件详解/" data-id="cjy5tjms9000wlcrt373czm18" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2018-6-25" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/06/25/2018-6-25/" class="article-date">
  <time datetime="2018-06-25T03:43:34.000Z" itemprop="datePublished">2018-06-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/考研历程/">考研历程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2018/06/25/2018-6-25/">博客第一天</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="从今天开始我想记录我的每一天的学习"><a href="#从今天开始我想记录我的每一天的学习" class="headerlink" title="从今天开始我想记录我的每一天的学习"></a>从今天开始我想记录我的每一天的学习</h2><h1 id="今天学习的内容"><a href="#今天学习的内容" class="headerlink" title="今天学习的内容"></a>今天学习的内容</h1><p>早上六点半起床去图书馆，看了一会语法书，然后最后去上今天的第一次的专业实训课。今天还是学习了很多的内容的，唯一的不足是我今天没有看高数，和写英语阅读。但是总算是把这个博客给弄出来了，从下午六点多的时候到九点多一直在搞这个。总算弄完了，洗洗睡。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2018/06/25/2018-6-25/" data-id="cjy5tjmr50000lcrt3lv9yc2s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/考研/">考研</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-抓取毛概题库" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/06/21/抓取毛概题库/" class="article-date">
  <time datetime="2018-06-21T03:43:34.000Z" itemprop="datePublished">2018-06-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/我的小程序/">我的小程序</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2018/06/21/抓取毛概题库/">抓取毛概的题库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="抓取毛概的题库"><a href="#抓取毛概的题库" class="headerlink" title="抓取毛概的题库"></a>抓取毛概的题库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.net.URL;</span><br><span class="line">import java.net.URLConnection;</span><br><span class="line"></span><br><span class="line">import javax.xml.parsers.DocumentBuilder;</span><br><span class="line">import javax.xml.parsers.DocumentBuilderFactory;</span><br><span class="line">import javax.xml.parsers.ParserConfigurationException;</span><br><span class="line"></span><br><span class="line">import org.w3c.dom.Document;</span><br><span class="line">import org.w3c.dom.Element;</span><br><span class="line">import org.xml.sax.SAXException;</span><br><span class="line"></span><br><span class="line">import com.google.gson.JsonArray;</span><br><span class="line">import com.google.gson.JsonObject;</span><br><span class="line">import com.google.gson.JsonParser;</span><br><span class="line"></span><br><span class="line">//导入马克思的题库，完成时间20118年6月21日晚上九点</span><br><span class="line">public class Demo &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		String url = &quot;http://211.67.48.87/wantsMWS/Question.asmx/GetQuestionList?CV=&amp;QStyleCode=DD&amp;QIDList=&quot;;</span><br><span class="line">		//PD是判断题，DX是单选，DD是多选</span><br><span class="line">		int i = 1;</span><br><span class="line">		while(i &lt; 100000) &#123;</span><br><span class="line">			url += String.valueOf(i)+&quot;&amp;ScreenType=1&quot;;</span><br><span class="line">			test(url,i);</span><br><span class="line">			i++;</span><br><span class="line">			url = &quot;http://211.67.48.87/wantsMWS/Question.asmx/GetQuestionList?CV=&amp;QStyleCode=DD&amp;QIDList=&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">		  </span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	static int aaaa=1;</span><br><span class="line">	private static void test(String urls, int NO) &#123;</span><br><span class="line">		 InputStream is = null;</span><br><span class="line">		    Document document = null;</span><br><span class="line">		    try &#123;</span><br><span class="line">		      URL url =</span><br><span class="line">		          new URL(urls);//如&quot;http://211.67.48.87/wantsMWS/Question.asmx/GetQuestionList?CV=&amp;QStyleCode=DX&amp;QIDList=2158&amp;ScreenType=1&quot;</span><br><span class="line">		      URLConnection con = url.openConnection();</span><br><span class="line">		      is = con.getInputStream();</span><br><span class="line">		      // DOM 解析器</span><br><span class="line">		      DocumentBuilderFactory domfac = DocumentBuilderFactory.newInstance();</span><br><span class="line">		      // DOM 工厂获得 DOM 解析器</span><br><span class="line">		      DocumentBuilder dombuilder = domfac.newDocumentBuilder();</span><br><span class="line">		      document = dombuilder.parse(is);</span><br><span class="line"></span><br><span class="line">		    &#125; catch (SAXException e) &#123;</span><br><span class="line">		      e.printStackTrace();</span><br><span class="line">		    &#125; catch (ParserConfigurationException e) &#123;</span><br><span class="line">		      e.printStackTrace();</span><br><span class="line">		    &#125; catch (IOException e) &#123;</span><br><span class="line">		      e.printStackTrace();</span><br><span class="line"></span><br><span class="line">		    &#125;</span><br><span class="line">		    // root要素取得</span><br><span class="line">		    Element elementRoot = (document).getDocumentElement();</span><br><span class="line">		    JsonParser parser=new JsonParser();</span><br><span class="line">		    JsonObject object=(JsonObject)parser.parse(elementRoot.getTextContent().toString());</span><br><span class="line">		    JsonArray  QStyleList = object.get(&quot;List&quot;).getAsJsonArray();</span><br><span class="line">		    //------------------------写文件</span><br><span class="line">		    try</span><br><span class="line">		    &#123;</span><br><span class="line">		    String path=&quot;C:\\Users\\Administrator\\Desktop\\毛泽东.txt&quot;;</span><br><span class="line">		    File file=new File(path);</span><br><span class="line">		    if(!file.exists())</span><br><span class="line">		        file.createNewFile();</span><br><span class="line">		    FileOutputStream out=new FileOutputStream(file,true); //如果追加方式用true ,非追加用false    </span><br><span class="line">			for(int i = 0; i &lt; QStyleList.size(); ++i) &#123;</span><br><span class="line">				JsonObject item = QStyleList.get(i).getAsJsonObject();</span><br><span class="line">				String SubjectCode = item.get(&quot;SubjectCode&quot;).getAsString();		//试卷类型</span><br><span class="line">				String QStyleCode = item.get(&quot;QStyleCode&quot;).getAsString();		//题目类型</span><br><span class="line">				String QID = item.get(&quot;QID&quot;).getAsString();		//题目ID</span><br><span class="line">				String Topic = item.get(&quot;Topic&quot;).getAsString();		//题干</span><br><span class="line">				String IsRTF = item.get(&quot;IsRTF&quot;).getAsString();			//不知道是啥</span><br><span class="line">				JsonArray Option = item.get(&quot;OptionList&quot;).getAsJsonArray();</span><br><span class="line">				//写入文件</span><br><span class="line">				StringBuffer sb=new StringBuffer();</span><br><span class="line">			    sb.append(aaaa+&quot;.题干：&quot;+Topic+&quot;\r\n&quot;);</span><br><span class="line">			    System.out.println(SubjectCode);</span><br><span class="line">				System.out.println(&quot;题干：&quot;+Topic);</span><br><span class="line">				for(int j = 0; j &lt; Option.size(); ++j) &#123;</span><br><span class="line">					System.out.println(&quot;选项&quot;+j+&quot;: &quot;+Option.get(j).getAsString());</span><br><span class="line">					if(j==0)sb.append(&quot;A:&quot;+Option.get(j).getAsString()+&quot;\r\n&quot;);</span><br><span class="line">					if(j==1)sb.append(&quot;B:&quot;+Option.get(j).getAsString()+&quot;\r\n&quot;);</span><br><span class="line">					if(j==2)sb.append(&quot;C:&quot;+Option.get(j).getAsString()+&quot;\r\n&quot;);</span><br><span class="line">					if(j==3)sb.append(&quot;D:&quot;+Option.get(j).getAsString()+&quot;\r\n&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">				String OptionMax = item.get(&quot;OptionMax&quot;).getAsString();//最大的选项</span><br><span class="line">				String OptionType = item.get(&quot;OptionType&quot;).getAsString();	//选项的类型</span><br><span class="line">				String Result = item.get(&quot;Result&quot;).getAsString();	//答案</span><br><span class="line">				System.out.println(&quot;答案为：&quot;+Result);</span><br><span class="line">				</span><br><span class="line">			    sb.append(&quot;答案：&quot;+Result+&quot;\r\n&quot;);</span><br><span class="line">			    </span><br><span class="line">			    if(&quot;&quot;.equals(Topic)||Topic==null) &#123;</span><br><span class="line">			    	out.close();</span><br><span class="line">			    	System.exit(0);</span><br><span class="line">			    &#125;</span><br><span class="line">			    </span><br><span class="line">			    if(&quot;MZT&quot;.equals(SubjectCode)) &#123;</span><br><span class="line">			    	aaaa++;</span><br><span class="line">			    	out.write(sb.toString().getBytes(&quot;utf-8&quot;));//注意需要转换对应的字符集</span><br><span class="line">			    &#125;</span><br><span class="line">			    	</span><br><span class="line">			    </span><br><span class="line">			    		</span><br><span class="line">			&#125;</span><br><span class="line">			 out.close();</span><br><span class="line">		    &#125;</span><br><span class="line">		    catch(IOException ex)</span><br><span class="line">		    &#123;</span><br><span class="line">		        System.out.println(ex.getStackTrace());</span><br><span class="line">		    &#125;</span><br><span class="line">		    //----------------------------------写文件</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/blog/2018/06/21/抓取毛概题库/" data-id="cjy5tjmrm0009lcrtgym0egy2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/毛概/">毛概</a></li></ul>

    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Django/">Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/小程序/">小程序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/我的小程序/">我的小程序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/考研历程/">考研历程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QQ/">QQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习/">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器人/">机器人</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/毛概/">毛概</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/考研/">考研</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/QQ/" style="font-size: 10px;">QQ</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/mysql/" style="font-size: 20px;">mysql</a> <a href="/tags/学习/" style="font-size: 10px;">学习</a> <a href="/tags/机器人/" style="font-size: 10px;">机器人</a> <a href="/tags/毛概/" style="font-size: 10px;">毛概</a> <a href="/tags/考研/" style="font-size: 10px;">考研</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2019/07/16/hello-world/">Hello World1</a>
          </li>
        
          <li>
            <a href="/blog/2019/07/10/Django教程/">mysql数据库创建流水号</a>
          </li>
        
          <li>
            <a href="/blog/2018/08/01/qq聊天机器人/">qq聊天机器人</a>
          </li>
        
          <li>
            <a href="/blog/2018/07/02/mysql创建流水号/">mysql数据库创建流水号</a>
          </li>
        
          <li>
            <a href="/blog/2018/07/02/mysqlini文件详解/">mysql数据库my.ini配置文件中文详解</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Wu xiong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>